<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>blockmode · GMT</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../usage/">GMT</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../usage/">Introduction</a></li><li><a class="tocitem" href="../quick_learn/">Quick Learn</a></li><li><a class="tocitem" href="../examples/">Some examples</a></li><li><a class="tocitem" href="../rectangles/">Draw rectangles examples</a></li><li><a class="tocitem" href="../frames/">Draw frames examples</a></li><li><a class="tocitem" href="../proj_examples/">Map projections</a></li><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../gallery/isc/">Advanced ISC example</a></li><li><a class="tocitem" href="../gallery/tables/">AGU</a></li><li><a class="tocitem" href="../gallery/bars/bars/">Bar plots</a></li><li><a class="tocitem" href="../gallery/color_lines/color_lines/">Color lines</a></li><li><input class="collapse-toggle" id="menuitem-7-5" type="checkbox"/><label class="tocitem" for="menuitem-7-5"><span class="docs-label">Choropleth maps</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../gallery/choropleths/choropleth_DCW/">Coutries (DCW)</a></li><li><a class="tocitem" href="../gallery/choropleths/choropleth_cv19/">Covid in Portugal</a></li></ul></li><li><a class="tocitem" href="../gallery/contourf/contourf/">Contourf</a></li><li><a class="tocitem" href="../gallery/GADM/gadm/">GADM Countries</a></li><li><a class="tocitem" href="../gallery/buffergeo/buffer/">Geodesic buffers</a></li><li><a class="tocitem" href="../gallery/historic/">Historical collection</a></li><li><a class="tocitem" href="../gallery/Landsat8/histogram_stretch/">Landsat 8</a></li><li><a class="tocitem" href="../gallery/mapprojs/">Map projections</a></li><li><a class="tocitem" href="../gallery/plot_funs/plot_funs/">Plotting functions</a></li><li><a class="tocitem" href="../gallery/plotyy/plotyy/">Plotyy</a></li><li><a class="tocitem" href="../gallery/spirals/spirals/">Spirals</a></li><li><a class="tocitem" href="../gallery/ternary/ternary/">Ternary</a></li><li><a class="tocitem" href="../gallery/UTM_Geog_annot/ex28/">UTM and Geog axes</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../monolitic/">Monolithic</a></li><li><a class="tocitem" href="../modules/">By Modules</a></li><li><a class="tocitem" href="../common_opts/">Common options</a></li><li><input class="collapse-toggle" id="menuitem-73-4" type="checkbox"/><label class="tocitem" for="menuitem-73-4"><span class="docs-label">General features</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../arrows_control/">Vector Attributes</a></li><li><a class="tocitem" href="../color/">Setting color</a></li><li><a class="tocitem" href="../decorated/">Line decorations</a></li><li><a class="tocitem" href="../symbols/">Symbols</a></li><li><a class="tocitem" href="../themes/">Themes</a></li></ul></li></ul></li><li><span class="tocitem">Modules manuals</span><ul><li><a class="tocitem" href="../arrows/">arrows</a></li><li><a class="tocitem" href="../bar/">bar</a></li><li><a class="tocitem" href="../bar3/">bar3</a></li><li><a class="tocitem" href="../blockmean/">blockmean</a></li><li><a class="tocitem" href="../blockmedian/">blockmedian</a></li><li class="is-active"><a class="tocitem" href>blockmode</a><ul class="internal"><li><a class="tocitem" href="#Description"><span>Description</span></a></li><li><a class="tocitem" href="#Required-Arguments"><span>Required Arguments</span></a></li><li><a class="tocitem" href="#Optional-Arguments"><span>Optional Arguments</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li></ul></li><li><a class="tocitem" href="../coast/">coast</a></li><li><a class="tocitem" href="../colorbar/">colorbar</a></li><li><a class="tocitem" href="../contourf/">contourf</a></li><li><a class="tocitem" href="../grdcontour/">grdcontour</a></li><li><a class="tocitem" href="../grdimage/">grdimage</a></li><li><a class="tocitem" href="../grdgradient/">grdgradient</a></li><li><a class="tocitem" href="../grdview/">grdview</a></li><li><a class="tocitem" href="../histogram/">histogram</a></li><li><a class="tocitem" href="../legend/">legend</a></li><li><a class="tocitem" href="../lines/">lines</a></li><li><a class="tocitem" href="../makecpt/">makecpt</a></li><li><a class="tocitem" href="../movie/">movie</a></li><li><a class="tocitem" href="../plot/">plot</a></li><li><a class="tocitem" href="../scatter/">scatter</a></li><li><a class="tocitem" href="../scatter3/">scatter3</a></li><li><a class="tocitem" href="../solar/">solar</a></li><li><a class="tocitem" href="../subplot/">subplot</a></li><li><a class="tocitem" href="../text/">text</a></li></ul></li><li><a class="tocitem" href="../types/">The GMT types</a></li><li><a class="tocitem" href="../">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules manuals</a></li><li class="is-active"><a href>blockmode</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>blockmode</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenericMappingTools/GMT.jl/blob/master/docs/src/blockmode.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="blockmode"><a class="docs-heading-anchor" href="#blockmode">blockmode</a><a id="blockmode-1"></a><a class="docs-heading-anchor-permalink" href="#blockmode" title="Permalink"></a></h1><p>blockmode(cmd0::String=&quot;&quot;, arg1=nothing; kwargs...)</p><h2 id="Description"><a class="docs-heading-anchor" href="#Description">Description</a><a id="Description-1"></a><a class="docs-heading-anchor-permalink" href="#Description" title="Permalink"></a></h2><p>Block average (x,y,z) data tables by mode estimation.</p><p>Reads arbitrarily located (x,y,z) triples [or optionally weighted quadruples (x,y,z,w)] and computes a mode position and value for every non-empty block in a grid region defined by the <strong>region</strong> and <strong>increment</strong> parameters.</p><p>Takes a Mx3 matrix, a GMTdataset, or a file name as input and returns either a table (a GMTdataset) or one or more grids (GMTgrid). Aternatively, save the result directly in a disk file.</p><h2 id="Required-Arguments"><a class="docs-heading-anchor" href="#Required-Arguments">Required Arguments</a><a id="Required-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Required-Arguments" title="Permalink"></a></h2><p><em>table</em><br/>    3 (or 4, see <strong>weights</strong>) column data table file (or binary, see <strong>binary_in</strong>) holding (<em>x,y,z[,w]</em>) 	data values, where [ <em>w</em>] is an optional weight for the data.</p><ul><li><p><strong>I</strong> or <strong>inc</strong> or <strong>increment</strong> or <strong>spacing</strong> : – <em>inc=x_inc</em> <strong>|</strong> <em>inc=(x<em>inc, y</em>inc)</em> <strong>|</strong> <em>inc=&quot;xinc[+e|n][/yinc[+e|n]]&quot;</em>  Specify the grid increments or the block sizes. Extended at <a href="../common_opts/#spacing">spacing</a></p></li><li><p><strong>R</strong> or <em>region</em> or <em>limits</em> : – <em>limits=(xmin, xmax, ymin, ymax)</em> <strong>|</strong> <em>limits=(BB=(xmin, xmax, ymin, ymax),)</em>  <strong>|</strong> <em>limits=(LLUR=(xmin, xmax, ymin, ymax),units=&quot;unit&quot;)</em> <strong>|</strong> ...more <br/> Specify the region of interest. Default limits are computed from data extents. Extended at <a href="../common_opts/#limits">limits</a></p></li></ul><h2 id="Optional-Arguments"><a class="docs-heading-anchor" href="#Optional-Arguments">Optional Arguments</a><a id="Optional-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-Arguments" title="Permalink"></a></h2><ul><li><p><strong>A</strong> or <strong>field</strong> or <strong>fields</strong>: – <em>field=mode|scale|highest|lowest|weights</em><br/>  Output is a grid with one of the select fields. <code>field=mode</code> writes the modal data <em>z</em>. Other options are:   <em>scale</em> (the L1 scale of the mode), <em>lowest</em> (lowest value), <em>highest</em> (highest value) and <em>weights</em> (the output weight;   requires the <strong>weights</strong> option). The deafault is <code>field=mode</code>. Alternatively, one can use a condensed   form which uses the first character (except the mean) of the above options, separated by commas, to compute more than one grid.   For example: <code>fields=&quot;z,h&quot;</code> computes two grids; one with the modes and the other with the highest values in blocks.</p></li><li><p><strong>C</strong> or <strong>center</strong> : – <em>center=true</em><br/>  Use the center of the block as the output location [Default uses the modal xy location (but see <strong>quick</strong>)].   <strong>center</strong> overrides <strong>quick</strong>.</p></li><li><p><strong>D</strong> or <strong>histogram_binning</strong> : – <em>histogram_binning=true</em> <strong>|</strong> <em>histogram_binning=[width][+c][+a|+l|+h]</em><br/>  Perform unweighted mode calculation via histogram binning, using the specified histogram <code>width</code>. Append <strong>+c</strong>   to center bins so that their mid point is a multiple of width [uncentered]. If multiple modes are found for a block   we return the average mode [<strong>+a</strong>]. Append <strong>+l</strong> or <strong>+h</strong> to return the low of high mode instead, respectively. If width   is not given it will default to 1 provided your data set only contains integers. Also, for integer data and integer   bin width we enforce bin centering (<strong>+c</strong>) and select the lowest mode (<strong>+l</strong>) if there are multiples.   Default mode is normally the Least Median of Squares (LMS) statistic.</p></li><li><p><strong>E</strong> or <strong>extend</strong> : –- <em>extend=true</em> <strong>|</strong> <em>extend=&quot;r|s[+l|+h]&quot;</em><br/>  Provide Extended report which includes <strong>s</strong> (the L1 scale of the mode),   <strong>l</strong>, the lowest value, and <strong>h</strong>, the high value for each block. Output order becomes <em>x,y,z,s,l,h</em>[,<em>w</em>]. Default outputs   <em>x,y,z</em>[ ,<em>w</em>]. See <strong>weights</strong> for enabling <em>w</em> output.</p><p>If <code>extend=&quot;r|s[+l|+h]&quot;</code> is used then provide source id <strong>s</strong> or record number <strong>r</strong> output, i.e., append the   source id or record number associated with the median value. If tied then report the record number of the higher   of the two values (i.e., <strong>+h</strong> is the default); append <strong>+l</strong> to instead report the record number of the lower value.</p><p>Note that <strong>extend</strong> may be repeated so that both <code>extend=true</code> and <code>extend=&quot;r[+l|+h]&quot;</code> can be specified.   But in this case (repeated <strong>extend</strong> option) one must encapsulate the intire option in a Tuple because   option names can not be repeated (not yet imlemented).   For <code>extend=:s</code> we expect input records of the form <em>x,y,z[,w],sid</em>, where <em>sid</em> is an unsigned integer source id.</p></li><li><p><strong>G</strong> or <strong>save</strong> or <strong>outgrid</strong> or <strong>outfile</strong> : – <em>save=file_name.grd</em><br/>  Write one or more fields directly to grids on disk; no data is returned to the Julia REPL.   If more than one fields are specified via <strong>fields</strong> then <em>file_name</em> must contain the format flag   %s so that we can embed the field code in the file names.</p></li><li><p><strong>Q</strong> or <strong>quick</strong> : – <em>quick=true</em><br/>  (Quicker) Finds median z and (x,y) at that the median z [Default finds median x, median y independent of z].   Also see <strong>center</strong>.</p></li><li><p><strong>T</strong> or <strong>quantile</strong> : – <em>quantile=val</em><br/>  Sets the quantile of the distribution to be returned [Default is 0.5 which returns the median z]. Here, 0 &lt; val &lt; 1.</p></li><li><p><strong>V</strong> or <em>verbose</em> : – <em>verbose=true</em> <strong>|</strong> <em>verbose=level</em><br/> Select verbosity level. More at <a href="../common_opts/#verbose">verbose</a></p></li><li><p><strong>W</strong> or <strong>weights</strong> : – <em>weights=:i</em> <strong>|</strong> <em>weights=:o</em> <strong>|</strong> <em>weights=&quot;i+s&quot;</em> <strong>|</strong> <em>weights=&quot;i|o+s|+w&quot;</em><br/>  Weighted modifier[s]. Unweighted input and output have 3 columns <em>x,y,z</em>; Weighted i/o has 4 columns <em>x,y,z,w</em>.   Weights can be used in input to construct weighted mean values for each block. Weight sums can be reported in   output for later combining several runs, etc. Use <strong>weights</strong> for weighted i/o, <strong>weights=:i</strong> for weighted   input only, and <strong>weights=:o</strong> for weighted output only. [Default uses unweighted i/o]. If your weights are   actually uncertainties (one sigma) then append the string <strong>+s</strong> (as in <strong>weights=&quot;i+s&quot;</strong>) and we compute   weight = 1/sigma. Otherwise (or via <strong>+w</strong>) we use the weights directly.</p></li><li><p><strong>bi</strong> or <strong>binary_in</strong></p></li><li><p><strong>bo</strong> or <strong>binary_out</strong></p></li><li><p><strong>di</strong> or <strong>nodata_in</strong></p></li><li><p><strong>e</strong> or <strong>pattern</strong></p></li><li><p><strong>f</strong> or <strong>colinfo</strong></p></li><li><p><strong>h</strong> or <strong>header</strong></p></li><li><p><strong>i</strong> or <strong>incol</strong></p></li><li><p><strong>o</strong> or <strong>outcol</strong></p></li><li><p><strong>q</strong> or <strong>inrows</strong></p></li><li><p><strong>r</strong> or <strong>reg</strong> or <strong>registration</strong> : – <em>reg=:p</em> <strong>|</strong> <em>reg=:g</em><br/> Select gridline or pixel node registration. Used only when output is a grid.</p></li><li><p><strong>w</strong> or <strong>wrap</strong> or <strong>cyclic</strong></p></li><li><p><strong>yx</strong> : – <em>yx=true</em><br/> Swap 1st and 2nd column on input and/or output.</p></li></ul><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>To find 5 by 5 minute block mode values from the ASCII data in ship_15.txt, run</p><pre><code class="language-julia hljs">    D = blockmode(&quot;@ship_15.txt&quot;, region=(245,255,20,30), inc=&quot;5m&quot;);</code></pre><p>To determine the most frequently occurring values per 2x2 block using histogram binning, with data representing integer counts, try:</p><pre><code class="language-julia hljs">    D = blockmode(&quot;@ship_15.txt&quot;, region=:global, inc=&quot;5m&quot;, center=true, histogram_binning=true);</code></pre><p>To determine the mode and L1 scale (MAD) on the mode per 10 minute bin and save these to two separate grids called field<em>z.nc and field</em>s.nc, run:</p><pre><code class="language-julia hljs">    blockmode(&quot;@ship_15.txt&quot;, spacing=&quot;10m&quot;, region=(-115,-105,20,30), extend=true, save=&quot;field_%s.nc&quot;, fields=&quot;z,s&quot;)</code></pre><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><p>The <a href="http://docs.generic-mapping-tools.org/latest/blockmean.html"><code>GMT man page</code></a> <a href="../blockmean/#blockmean">blockmean</a> <a href="../blockmedian/#blockmedian">blockmedian</a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../blockmedian/">« blockmedian</a><a class="docs-footer-nextpage" href="../coast/">coast »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Saturday 1 January 2022 23:46">Saturday 1 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
